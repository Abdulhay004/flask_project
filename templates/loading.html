<!doctype html>
<html lang="uz">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Loading…</title>
  <style>
    body{
      margin:0;
      height:100vh;
      display:grid;
      place-items:center;
      font-family:sans-serif;
      background:#071226;
      color:#dbeef0;
    }
    .box{text-align:center}
    .dotwrap{display:flex;gap:8px;justify-content:center;margin:20px 0}
    .dot{
      width:14px;height:14px;border-radius:50%;
      background:rgba(255,255,255,.2);
      animation: blink 0.8s infinite ease-in-out;
    }
    .dot:nth-child(2){animation-delay:.15s}
    .dot:nth-child(3){animation-delay:.3s}
    @keyframes blink{
      0%,100%{opacity:.3;transform:translateY(0)}
      50%{opacity:1;transform:translateY(-6px)}
    }
    .bar{width:200px;height:6px;background:#123;border-radius:999px;overflow:hidden}
    .fill{height:100%;width:0;background:#22d07f;transition:width 2s linear}
  </style>
</head>
<body>
  <div class="box">
    <h3>Ma'lumotlar tayyorlanmoqda…</h3>
    <div class="dotwrap">
      <div class="dot"></div><div class="dot"></div><div class="dot"></div>
    </div>
    <div class="bar"><div class="fill" id="fill"></div></div>
  </div>

<script>
    // progress animatsiya
    requestAnimationFrame(() => {
      document.getElementById('fill').style.width = '100%';
    });

    // 2 soniyadan keyin yo'naltirish
    setTimeout(() => {
      window.location.href = "{{ url_for('select_language', branch_id=branch_id, product_id=product.id) }}";
    }, 2000);
</script>
</body>
</html>